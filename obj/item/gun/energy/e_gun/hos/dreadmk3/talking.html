<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../../../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/item/gun/energy/e_gun/hos/dreadmk3/talking - Space Station 13</title></head><body><header><a href="index.html">Space Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#var">Var Details</a> - <a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#proc">Proc Details</a></header><main><h1>talking <aside>/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/gun.html">gun</a>/<a href="obj/item/gun/energy.html">energy</a>/<a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html">e_gun/hos/dreadmk3/talking</a></aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L11"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 11"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#var/allowed_pins">allowed_pins</a></th><td>List of allowed firing pins with their voice lines</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#var/currently_held">currently_held</a></th><td>Track if we're currently held to prevent spam</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#var/id_check_cooldown">id_check_cooldown</a></th><td>Last time we checked ID</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#var/idle_comment_cooldown">idle_comment_cooldown</a></th><td>Last time gun made an idle comment</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#var/in_recharger">in_recharger</a></th><td>Is the gun currently in a recharger?</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#var/interaction_locked">interaction_locked</a></th><td>Was gun just picked up/dropped? Prevents instant spam</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#var/last_charge">last_charge</a></th><td>Keeps track of the last processed charge</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#var/last_speech">last_speech</a></th><td>A cooldown for when the weapon has last spoken</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#var/low_charge_warned">low_charge_warned</a></th><td>Did we already warn about low charge?</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#var/personality_mode">personality_mode</a></th><td>If the gun's personality speech is on</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#var/quiet_mode">quiet_mode</a></th><td>Quiet mode - whisper instead of speaking</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#var/shots_fired">shots_fired</a></th><td>Shot counter</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#var/speech_json_file">speech_json_file</a></th><td>The json file this gun pulls from when speaking</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#proc/check_user_id_silent">check_user_id_silent</a></th><td>Checks user's ID card silently and returns phrase key</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#proc/enter_recharger">enter_recharger</a></th><td>Called when gun is inserted into recharger</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#proc/exit_recharger">exit_recharger</a></th><td>Called when gun is removed from recharger</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#proc/get_current_mode_announce">get_current_mode_announce</a></th><td>Gets the announcement for current fire mode</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#proc/get_mode_russian_name">get_mode_russian_name</a></th><td>Get Russian name for current mode for voice commands</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#proc/on_pin_inserted">on_pin_inserted</a></th><td>Called when firing pin is inserted - checks and announces</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#proc/speak_up">speak_up</a></th><td>Makes the gun speak</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#proc/unlock_interaction">unlock_interaction</a></th><td>Unlocks interaction after pickup/drop</td></tr><tr><th><a href="obj/item/gun/energy/e_gun/hos/dreadmk3/talking.html#proc/voice_command_mode_switch">voice_command_mode_switch</a></th><td>User says/whispers the mode name, gun confirms it</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/allowed_pins"><aside class="declaration">var </aside>allowed_pins <aside>– /static/list</aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L40"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 40"></a></h3><p>List of allowed firing pins with their voice lines</p><h3 id="var/currently_held"><aside class="declaration">var </aside>currently_held <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L28"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 28"></a></h3><p>Track if we're currently held to prevent spam</p><h3 id="var/id_check_cooldown"><aside class="declaration">var </aside>id_check_cooldown <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L36"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 36"></a></h3><p>Last time we checked ID</p><h3 id="var/idle_comment_cooldown"><aside class="declaration">var </aside>idle_comment_cooldown <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L38"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 38"></a></h3><p>Last time gun made an idle comment</p><h3 id="var/in_recharger"><aside class="declaration">var </aside>in_recharger <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L32"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 32"></a></h3><p>Is the gun currently in a recharger?</p><h3 id="var/interaction_locked"><aside class="declaration">var </aside>interaction_locked <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L30"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 30"></a></h3><p>Was gun just picked up/dropped? Prevents instant spam</p><h3 id="var/last_charge"><aside class="declaration">var </aside>last_charge <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L20"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 20"></a></h3><p>Keeps track of the last processed charge</p><h3 id="var/last_speech"><aside class="declaration">var </aside>last_speech <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L24"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 24"></a></h3><p>A cooldown for when the weapon has last spoken</p><h3 id="var/low_charge_warned"><aside class="declaration">var </aside>low_charge_warned <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L26"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 26"></a></h3><p>Did we already warn about low charge?</p><h3 id="var/personality_mode"><aside class="declaration">var </aside>personality_mode <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L18"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 18"></a></h3><p>If the gun's personality speech is on</p><h3 id="var/quiet_mode"><aside class="declaration">var </aside>quiet_mode <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L34"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 34"></a></h3><p>Quiet mode - whisper instead of speaking</p><h3 id="var/shots_fired"><aside class="declaration">var </aside>shots_fired <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L22"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 22"></a></h3><p>Shot counter</p><h3 id="var/speech_json_file"><aside class="declaration">var </aside>speech_json_file <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L16"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 16"></a></h3><p>The json file this gun pulls from when speaking</p><h2 id="proc">Proc Details</h2><h3 id="proc/check_user_id_silent"><aside class="declaration">proc </aside>check_user_id_silent<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/user)  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L272"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 272"></a></aside></h3><p>Checks user's ID card silently and returns phrase key</p><h3 id="proc/enter_recharger"><aside class="declaration">proc </aside>enter_recharger<aside>()  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L177"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 177"></a></aside></h3><p>Called when gun is inserted into recharger</p><h3 id="proc/exit_recharger"><aside class="declaration">proc </aside>exit_recharger<aside>()  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L184"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 184"></a></aside></h3><p>Called when gun is removed from recharger</p><h3 id="proc/get_current_mode_announce"><aside class="declaration">proc </aside>get_current_mode_announce<aside>()  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L218"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 218"></a></aside></h3><p>Gets the announcement for current fire mode</p><h3 id="proc/get_mode_russian_name"><aside class="declaration">proc </aside>get_mode_russian_name<aside>()  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L115"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 115"></a></aside></h3><p>Get Russian name for current mode for voice commands</p><h3 id="proc/on_pin_inserted"><aside class="declaration">proc </aside>on_pin_inserted<aside>()  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L298"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 298"></a></aside></h3><p>Called when firing pin is inserted - checks and announces</p><h3 id="proc/speak_up"><aside class="declaration">proc </aside>speak_up<aside>(json_string, ignores_cooldown, ignores_personality_toggle)  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L69"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 69"></a></aside></h3><p>Makes the gun speak</p><h3 id="proc/unlock_interaction"><aside class="declaration">proc </aside>unlock_interaction<aside>()  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L173"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 173"></a></aside></h3><p>Unlocks interaction after pickup/drop</p><h3 id="proc/voice_command_mode_switch"><aside class="declaration">proc </aside>voice_command_mode_switch<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user)  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/fluffs/code/talking_dreadmk3.dm#L91"><img src="git.png" width="16" height="16" title="modular_bluemoon/fluffs/code/talking_dreadmk3.dm 91"></a></aside></h3><p>User says/whispers the mode name, gun confirms it</p></main><footer>tgstation.dme <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/tree/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8">d9a18b0</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>