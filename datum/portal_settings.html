<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/portal_settings - Space Station 13</title></head><body><header><a href="index.html">Space Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/portal_settings.html#var">Var Details</a> - <a href="datum/portal_settings.html#proc">Proc Details</a></header><main><h1>portal_settings <aside>/<a href="datum.html">datum</a>/<a href="datum/portal_settings.html">portal_settings</a></aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L61"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 61"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/portal_settings.html#var/allowed_nicknames">allowed_nicknames</a></th><td>Allowed users list (by portal nickname) - if not empty, only these can connect</td></tr><tr><th><a href="datum/portal_settings.html#var/blocked_nicknames">blocked_nicknames</a></th><td>Blocked users list (by portal nickname - anonymous)</td></tr><tr><th><a href="datum/portal_settings.html#var/connection_history">connection_history</a></th><td>Connection history (last 10)</td></tr><tr><th><a href="datum/portal_settings.html#var/connection_mode">connection_mode</a></th><td>Connection mode (disabled by default for safety)</td></tr><tr><th><a href="datum/portal_settings.html#var/control_mode">control_mode</a></th><td>Control mode - who can adjust settings (default to Partner/subordinate mode)</td></tr><tr><th><a href="datum/portal_settings.html#var/current_mood">current_mood</a></th><td>Current mood/status</td></tr><tr><th><a href="datum/portal_settings.html#var/do_not_disturb">do_not_disturb</a></th><td>Do not disturb mode</td></tr><tr><th><a href="datum/portal_settings.html#var/edging_enabled">edging_enabled</a></th><td>Enable edging mode (auto-reduce intensity near climax)</td></tr><tr><th><a href="datum/portal_settings.html#var/edging_notified">edging_notified</a></th><td>Track if we already notified partner about edging</td></tr><tr><th><a href="datum/portal_settings.html#var/intensity_locked">intensity_locked</a></th><td>Lock intensity changes (for sub mode)</td></tr><tr><th><a href="datum/portal_settings.html#var/last_activity">last_activity</a></th><td>Last activity time</td></tr><tr><th><a href="datum/portal_settings.html#var/last_network_vibration_relay">last_network_vibration_relay</a></th><td>Last time we relayed vibration to network (for throttling)</td></tr><tr><th><a href="datum/portal_settings.html#var/last_public_emote">last_public_emote</a></th><td>Last time a public emote was shown (for cooldown)</td></tr><tr><th><a href="datum/portal_settings.html#var/last_tease_pulse">last_tease_pulse</a></th><td>Last tease pulse time (for tease pattern)</td></tr><tr><th><a href="datum/portal_settings.html#var/max_allowed_intensity">max_allowed_intensity</a></th><td>Maximum allowed intensity (for sub mode limits)</td></tr><tr><th><a href="datum/portal_settings.html#var/min_forced_intensity">min_forced_intensity</a></th><td>Minimum forced intensity (for sub mode floor)</td></tr><tr><th><a href="datum/portal_settings.html#var/network">network</a></th><td>Group network (for group mode)</td></tr><tr><th><a href="datum/portal_settings.html#var/owner">owner</a></th><td>Owner of these settings</td></tr><tr><th><a href="datum/portal_settings.html#var/parent_device">parent_device</a></th><td>Weak reference to the parent device (panties or fleshlight)</td></tr><tr><th><a href="datum/portal_settings.html#var/private_partner_ref">private_partner_ref</a></th><td>Private partner (for private mode)</td></tr><tr><th><a href="datum/portal_settings.html#var/public_emotes_enabled">public_emotes_enabled</a></th><td>Enable public emotes visible to nearby players</td></tr><tr><th><a href="datum/portal_settings.html#var/public_privacy_mode">public_privacy_mode</a></th><td>Настройка приватности публичного режима - что видят подключённые о других</td></tr><tr><th><a href="datum/portal_settings.html#var/quick_messages">quick_messages</a></th><td>Custom quick message presets</td></tr><tr><th><a href="datum/portal_settings.html#var/relay_climax">relay_climax</a></th><td>Relay climax sensations to network members</td></tr><tr><th><a href="datum/portal_settings.html#var/relay_edging">relay_edging</a></th><td>Relay edging notifications to network members</td></tr><tr><th><a href="datum/portal_settings.html#var/relay_intensity">relay_intensity</a></th><td>Relay intensity (percentage of sensations relayed)</td></tr><tr><th><a href="datum/portal_settings.html#var/relay_vibrations">relay_vibrations</a></th><td>Relay vibration sensations to network members</td></tr><tr><th><a href="datum/portal_settings.html#var/safeword">safeword</a></th><td>Safeword - instant disconnect phrase</td></tr><tr><th><a href="datum/portal_settings.html#var/safeword_enabled">safeword_enabled</a></th><td>Whether safeword detection is enabled (disabled by default)</td></tr><tr><th><a href="datum/portal_settings.html#var/tease_next_pulse">tease_next_pulse</a></th><td>Tease cooldown (random between pulses)</td></tr><tr><th><a href="datum/portal_settings.html#var/vibration_enabled">vibration_enabled</a></th><td>Vibration enabled</td></tr><tr><th><a href="datum/portal_settings.html#var/vibration_intensity">vibration_intensity</a></th><td>Vibration intensity (1-10)</td></tr><tr><th><a href="datum/portal_settings.html#var/vibration_pattern">vibration_pattern</a></th><td>Current vibration pattern</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/portal_settings.html#proc/apply_vibration_jitter">apply_vibration_jitter</a></th><td>Apply jitter effects based on vibration intensity</td></tr><tr><th><a href="datum/portal_settings.html#proc/can_change_intensity">can_change_intensity</a></th><td>Check if intensity can be changed</td></tr><tr><th><a href="datum/portal_settings.html#proc/can_connect_from">can_connect_from</a></th><td>Check if a user can connect TO this device (called on panties when fleshlight tries to connect)
connector = the mob trying to connect (holding the fleshlight)</td></tr><tr><th><a href="datum/portal_settings.html#proc/can_user_control">can_user_control</a></th><td>Check if the given user can control this device</td></tr><tr><th><a href="datum/portal_settings.html#proc/check_safeword">check_safeword</a></th><td>Check if a message contains the safeword</td></tr><tr><th><a href="datum/portal_settings.html#proc/get_available_patterns_data">get_available_patterns_data</a></th><td>Get list of available vibration patterns with metadata for TGUI</td></tr><tr><th><a href="datum/portal_settings.html#proc/is_nickname_allowed">is_nickname_allowed</a></th><td>Check if a specific nickname is allowed (empty list means everyone allowed)</td></tr><tr><th><a href="datum/portal_settings.html#proc/is_nickname_blocked">is_nickname_blocked</a></th><td>Check if a specific nickname is blocked</td></tr><tr><th><a href="datum/portal_settings.html#proc/notify_partners_edging">notify_partners_edging</a></th><td>Notify connected partners that edging mode activated</td></tr><tr><th><a href="datum/portal_settings.html#proc/parse_message_template">parse_message_template</a></th><td>Parse message template placeholders
Supported: {partner} = recipient nickname, {me} = sender nickname, {intensity} = current intensity, {mood} = current mood</td></tr><tr><th><a href="datum/portal_settings.html#proc/process_vibration">process_vibration</a></th><td>Process vibration and return lust gain</td></tr><tr><th><a href="datum/portal_settings.html#proc/send_quick_message">send_quick_message</a></th><td>Send a quick message through the portal</td></tr><tr><th><a href="datum/portal_settings.html#proc/show_climax_emote">show_climax_emote</a></th><td>Show a climax emote when reaching orgasm</td></tr><tr><th><a href="datum/portal_settings.html#proc/show_public_emote">show_public_emote</a></th><td>Show a public emote visible to players in adjacent tiles (3x3 area)
emote_data is a list with &quot;third&quot; (3rd person) and &quot;self&quot; (2nd person) forms</td></tr><tr><th><a href="datum/portal_settings.html#proc/show_vibration_feedback">show_vibration_feedback</a></th><td>Show vibration feedback messages based on intensity</td></tr><tr><th><a href="datum/portal_settings.html#proc/try_show_public_emote">try_show_public_emote</a></th><td>Try to show a public emote to nearby players (with cooldown)</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/allowed_nicknames"><aside class="declaration">var </aside>allowed_nicknames <aside>– /list</aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L87"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 87"></a></h3><p>Allowed users list (by portal nickname) - if not empty, only these can connect</p><h3 id="var/blocked_nicknames"><aside class="declaration">var </aside>blocked_nicknames <aside>– /list</aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L85"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 85"></a></h3><p>Blocked users list (by portal nickname - anonymous)</p><h3 id="var/connection_history"><aside class="declaration">var </aside>connection_history <aside>– /list</aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L89"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 89"></a></h3><p>Connection history (last 10)</p><h3 id="var/connection_mode"><aside class="declaration">var </aside>connection_mode <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L67"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 67"></a></h3><p>Connection mode (disabled by default for safety)</p><h3 id="var/control_mode"><aside class="declaration">var </aside>control_mode <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L98"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 98"></a></h3><p>Control mode - who can adjust settings (default to Partner/subordinate mode)</p><h3 id="var/current_mood"><aside class="declaration">var </aside>current_mood <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L81"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 81"></a></h3><p>Current mood/status</p><h3 id="var/do_not_disturb"><aside class="declaration">var </aside>do_not_disturb <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L83"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 83"></a></h3><p>Do not disturb mode</p><h3 id="var/edging_enabled"><aside class="declaration">var </aside>edging_enabled <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L120"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 120"></a></h3><p>Enable edging mode (auto-reduce intensity near climax)</p><h3 id="var/edging_notified"><aside class="declaration">var </aside>edging_notified <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L122"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 122"></a></h3><p>Track if we already notified partner about edging</p><h3 id="var/intensity_locked"><aside class="declaration">var </aside>intensity_locked <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L100"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 100"></a></h3><p>Lock intensity changes (for sub mode)</p><h3 id="var/last_activity"><aside class="declaration">var </aside>last_activity <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L95"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 95"></a></h3><p>Last activity time</p><h3 id="var/last_network_vibration_relay"><aside class="declaration">var </aside>last_network_vibration_relay <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L131"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 131"></a></h3><p>Last time we relayed vibration to network (for throttling)</p><h3 id="var/last_public_emote"><aside class="declaration">var </aside>last_public_emote <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L117"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 117"></a></h3><p>Last time a public emote was shown (for cooldown)</p><h3 id="var/last_tease_pulse"><aside class="declaration">var </aside>last_tease_pulse <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L110"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 110"></a></h3><p>Last tease pulse time (for tease pattern)</p><h3 id="var/max_allowed_intensity"><aside class="declaration">var </aside>max_allowed_intensity <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L102"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 102"></a></h3><p>Maximum allowed intensity (for sub mode limits)</p><h3 id="var/min_forced_intensity"><aside class="declaration">var </aside>min_forced_intensity <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L104"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 104"></a></h3><p>Minimum forced intensity (for sub mode floor)</p><h3 id="var/network"><aside class="declaration">var </aside>network <aside>– /<a href="datum.html">datum</a>/<a href="datum/portal_network.html">portal_network</a></aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L71"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 71"></a></h3><p>Group network (for group mode)</p><h3 id="var/owner"><aside class="declaration">var </aside>owner <aside>– /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a></aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L63"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 63"></a></h3><p>Owner of these settings</p><h3 id="var/parent_device"><aside class="declaration">var </aside>parent_device <aside>– /<a href="datum.html">datum</a>/weakref</aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L65"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 65"></a></h3><p>Weak reference to the parent device (panties or fleshlight)</p><h3 id="var/private_partner_ref"><aside class="declaration">var </aside>private_partner_ref <aside>– /<a href="datum.html">datum</a>/weakref</aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L69"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 69"></a></h3><p>Private partner (for private mode)</p><h3 id="var/public_emotes_enabled"><aside class="declaration">var </aside>public_emotes_enabled <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L115"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 115"></a></h3><p>Enable public emotes visible to nearby players</p><h3 id="var/public_privacy_mode"><aside class="declaration">var </aside>public_privacy_mode <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L133"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 133"></a></h3><p>Настройка приватности публичного режима - что видят подключённые о других</p><h3 id="var/quick_messages"><aside class="declaration">var </aside>quick_messages <aside>– /list</aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L107"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 107"></a></h3><p>Custom quick message presets</p><h3 id="var/relay_climax"><aside class="declaration">var </aside>relay_climax <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L129"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 129"></a></h3><p>Relay climax sensations to network members</p><h3 id="var/relay_edging"><aside class="declaration">var </aside>relay_edging <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L127"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 127"></a></h3><p>Relay edging notifications to network members</p><h3 id="var/relay_intensity"><aside class="declaration">var </aside>relay_intensity <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L79"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 79"></a></h3><p>Relay intensity (percentage of sensations relayed)</p><h3 id="var/relay_vibrations"><aside class="declaration">var </aside>relay_vibrations <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L125"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 125"></a></h3><p>Relay vibration sensations to network members</p><h3 id="var/safeword"><aside class="declaration">var </aside>safeword <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L91"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 91"></a></h3><p>Safeword - instant disconnect phrase</p><h3 id="var/safeword_enabled"><aside class="declaration">var </aside>safeword_enabled <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L93"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 93"></a></h3><p>Whether safeword detection is enabled (disabled by default)</p><h3 id="var/tease_next_pulse"><aside class="declaration">var </aside>tease_next_pulse <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L112"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 112"></a></h3><p>Tease cooldown (random between pulses)</p><h3 id="var/vibration_enabled"><aside class="declaration">var </aside>vibration_enabled <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L73"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 73"></a></h3><p>Vibration enabled</p><h3 id="var/vibration_intensity"><aside class="declaration">var </aside>vibration_intensity <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L77"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 77"></a></h3><p>Vibration intensity (1-10)</p><h3 id="var/vibration_pattern"><aside class="declaration">var </aside>vibration_pattern <aside>– </aside> <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L75"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 75"></a></h3><p>Current vibration pattern</p><h2 id="proc">Proc Details</h2><h3 id="proc/apply_vibration_jitter"><aside class="declaration">proc </aside>apply_vibration_jitter<aside>(intensity)  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L357"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 357"></a></aside></h3><p>Apply jitter effects based on vibration intensity</p><h3 id="proc/can_change_intensity"><aside class="declaration">proc </aside>can_change_intensity<aside>(/<a href="mob.html">mob</a>/user, is_partner)  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L470"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 470"></a></aside></h3><p>Check if intensity can be changed</p><h3 id="proc/can_connect_from"><aside class="declaration">proc </aside>can_connect_from<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/connector)  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L179"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 179"></a></aside></h3><p>Check if a user can connect TO this device (called on panties when fleshlight tries to connect)
connector = the mob trying to connect (holding the fleshlight)</p><h3 id="proc/can_user_control"><aside class="declaration">proc </aside>can_user_control<aside>(/<a href="mob.html">mob</a>/user, is_partner)  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L459"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 459"></a></aside></h3><p>Check if the given user can control this device</p><h3 id="proc/check_safeword"><aside class="declaration">proc </aside>check_safeword<aside>(raw_message)  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L489"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 489"></a></aside></h3><p>Check if a message contains the safeword</p><h3 id="proc/get_available_patterns_data"><aside class="declaration">proc </aside>get_available_patterns_data<aside>()  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L477"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 477"></a></aside></h3><p>Get list of available vibration patterns with metadata for TGUI</p><h3 id="proc/is_nickname_allowed"><aside class="declaration">proc </aside>is_nickname_allowed<aside>(nickname)  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L211"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 211"></a></aside></h3><p>Check if a specific nickname is allowed (empty list means everyone allowed)</p><h3 id="proc/is_nickname_blocked"><aside class="declaration">proc </aside>is_nickname_blocked<aside>(nickname)  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L207"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 207"></a></aside></h3><p>Check if a specific nickname is blocked</p><h3 id="proc/notify_partners_edging"><aside class="declaration">proc </aside>notify_partners_edging<aside>()  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L449"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 449"></a></aside></h3><p>Notify connected partners that edging mode activated</p><h3 id="proc/parse_message_template"><aside class="declaration">proc </aside>parse_message_template<aside>(message, sender_nickname, partner_nickname)  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L547"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 547"></a></aside></h3><p>Parse message template placeholders
Supported: {partner} = recipient nickname, {me} = sender nickname, {intensity} = current intensity, {mood} = current mood</p><h3 id="proc/process_vibration"><aside class="declaration">proc </aside>process_vibration<aside>(delta_time, location_text)  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L286"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 286"></a></aside></h3><p>Process vibration and return lust gain</p><h3 id="proc/send_quick_message"><aside class="declaration">proc </aside>send_quick_message<aside>(index, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/sender, /list/recipients)  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L497"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 497"></a></aside></h3><p>Send a quick message through the portal</p><h3 id="proc/show_climax_emote"><aside class="declaration">proc </aside>show_climax_emote<aside>()  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L441"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 441"></a></aside></h3><p>Show a climax emote when reaching orgasm</p><h3 id="proc/show_public_emote"><aside class="declaration">proc </aside>show_public_emote<aside>(/list/emote_data)  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L430"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 430"></a></aside></h3><p>Show a public emote visible to players in adjacent tiles (3x3 area)
emote_data is a list with &quot;third&quot; (3rd person) and &quot;self&quot; (2nd person) forms</p><h3 id="proc/show_vibration_feedback"><aside class="declaration">proc </aside>show_vibration_feedback<aside>(intensity, location_text)  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L384"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 384"></a></aside></h3><p>Show vibration feedback messages based on intensity</p><h3 id="proc/try_show_public_emote"><aside class="declaration">proc </aside>try_show_public_emote<aside>(intensity)  <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/blob/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8/modular_bluemoon/code/game/objects/items/_portal_toys.dm#L413"><img src="git.png" width="16" height="16" title="modular_bluemoon/code/game/objects/items/_portal_toys.dm 413"></a></aside></h3><p>Try to show a public emote to nearby players (with cooldown)</p></main><footer>tgstation.dme <a href="https://github.com/BlueMoon-Labs/BlueMoon-Station/tree/d9a18b0d5a3596f8bb07aa7e12327525f51c6fe8">d9a18b0</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>